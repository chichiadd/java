import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class user {
    public String name;
    public String wd;

    private Connection connection;
    public user(Connection connection) {
        this.connection = connection;
    }

    public user(String name, String passwd) {
        this.name = name;
        this.wd = wd;
    }

    public List<user> find(String username) throws SQLException {
        String sql = "SELECT tp.* FROM user tp" +
                "WHERE tp.uesrname = ? ";
        user user = null; // 初始化培训计划对象
        List<user> users = new ArrayList<>();
        try (PreparedStatement pstmt = connection.prepareStatement(sql)) {
            pstmt.setString(1,username);
            try(ResultSet tp = pstmt.executeQuery()) {
                user.name = tp.getString("tp.username");
                user.wd = tp.getString("tp.passwd");;
                users.add(user);
                }
            }
        return users;
        }

    }


